\documentclass[12pt,a4j]{jreport}
\setcounter{secnumdepth}{5}
\usepackage[dvipdfmx]{graphicx}
\usepackage{amsmath,amssymb}
%\usepackage{comment}
\usepackage{graphicx}
%\usepackage{here}
\usepackage{bm}
\usepackage{url}
\usepackage{color}

\renewcommand{\baselinestretch}{1.5}

\renewcommand{\bibname}{参考文献}
\newcommand{\todo}[1]{{\bf\color{red}{\{Todo: #1\}}}}




\begin{document}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 表紙
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{titlepage}

\begin{center}

    \vspace*{2cm}
    \Large 2025 年度 芝浦工業大学 工学部 情報工学科\\

    \vspace*{1.0cm}
    \Huge 卒 \qquad 業 \qquad 論 \qquad 文\\
    \vspace*{2.5cm}

    %TODO 編集 : 題目
    \Large ユーザー選択に応じた\\テキストエディタの配色生成ツールの実装\\
    
    \vspace{4cm}
    \begin{tabular}{ll}
        %TODO 編集 : 題目
        \vspace*{2mm}
        学籍番号 & \qquad $\mathbf{AL22020}$ \\
        \vspace*{2mm}
        氏\phantom{　　}名 & \qquad 伊藤 \quad 柊生   \\
        \vspace*{2mm}
        指導教員           & \qquad 篠埜 \quad 功     \\
        \vspace*{2mm}
        提出日             & \qquad 2026年2月...日
    \end{tabular}
\end{center}
\end{titlepage}



\begin{abstract}
現在、様々な項目についてカスタマイズ可能なテキストエディタが人々に広く使われており，その中でもテキストエディタの配色を自分の好みに変更するユーザーも多く存在する。
配色の変更には、テキストエディタの拡張機能やインターネット上で公開されているものを利用することができるが，好みに合った配色を探すのには時間がかかる．
また，自分で配色を独自に作成することも可能であるが，設定項目が非常に多い場合，自分の好みに合った配色を作成するのは時間がかかる．
本研究では，ユーザーの好みを反映しつつ，視認性の高いテキストエディタの配色を簡易的に生成する手法を提案する．本手法は
\end{abstract}


{\makeatletter
\let\ps@jpl@in\ps@empty
\makeatother
\pagestyle{empty}
\tableofcontents
\clearpage}

\setcounter{page}{1} 
\pagestyle{plain}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 序論 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{はじめに}

%\section{背景}
%背景で去年の卒論を引用して触れる。
Visual Studio Code や Vim など様々な項目を設定可能な高機能テキストエディタがいたるところで多く使われている。
Stack overflow annual developer survey\cite{rateenv}の開発環境調査によると、2024年5月の調査では、図\ref{figure:rate_developenv}のように質問に回答した開発者54,175人のうち73.6\%がVisual Studio Codeを使用している。

\begin{figure}[tb]
    \includegraphics[width=1\linewidth]{rate_developenv.png}
    \caption{\label{figure:rate_developenv}各テキストエディタの使用率}
\end{figure}

これらのテキストエディタの多くは、プログラムの視認性を高めるために、字句の種類ごとに色分けを行う機能を備えており、ユーザーはこれらの色設定を自由にカスタマイズすることが可能である。
テキストエディタにおける色設定の手段は大きく二つに分類できる。
第一の手段は、既に作成された配色データをダウンロードして利用する方法である。
Visual Studio Codeにおいては、テーマを拡張機能としてインストールすることで導入が可能であり、Visual Studio Marketplaceには、約37,000件に及ぶ拡張機能が登録されている。
各拡張機能は一つ以上のテーマを提供しており、ユーザーはその中から好みの配色を選択する。
しかしながら、これらの提供されているテーマの数が膨大であるため、希望に合致する配色を見つけ出す作業は容易ではない。
第二の手段は、ユーザー自身が個別に色設定を行う方法である。
Visual Studio Codeにおいては、ワークベンチ関連の色設定項目が約780項目ある\cite{colorbench}。
なお、ワークベンチの色設定においては、項目間に多くの依存関係があり、他の設定項目の色をもとに自動計算される項目も多くある。

このように、全ての設定項目を網羅的に記述することにより、自分好みの配色テーマを作成することはできるが、設定すべき項目数が多く、さらにそれぞれに対して適切な色を選定する必要があるため、作業には多大な労力を要する。
一方でテキストエディタの配色に関する研究は吉越ら\cite{sotu24}の研究を除いて筆者らが調べた限り見当たらない。

%\section{目的}
吉越らの研究で推薦された手法では、ユーザがRGB形式の入力によって指定した色に基づいて、テキストエディタの配色ファイルを生成し、その後、ユーザが納得のいくまで修正を繰り返し、好みの配色を生成することができる。
しかし、CUIのみを用いたツールであるため、ユーザーにとって不便であるという課題がある\cite{sotu24}。
そこで本研究ではユーザーがより容易に好みのテキストエディタの配色の設定行えるようにするため、GUIを導入することでツールの改善を行う。

%\section{内容}
%卒論で何をするかも書く。
既存のツールではCLIで行っていた文字色の選択を、カラーピックで直感的に選択を行えるようにすることや、配色変更後のイメージを色選択と同じ画面で確認できるようなツールの改善を行う。
その後、既存のツールを使用した場合と改善を加えたツールを使用した場合をそれぞれsystem usability scaleで評価を行うことで、改善による有用性を示す。




%\section{本論文の構成}
本論文の構成は次のようになっている．
まず、2章で本研究の関連研究について述べる．
次に3章では提案手法について述べる。
さらに4章ではツールの比較実験について述べ、
最後に5章で結論と今後の課題について述べる．


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{関連研究}

視認性の高いテキストエディタの配色を生成するためには、明度差や色差を考慮した適度な配色のバランスが重要である。
また、ユーザの利便性を考慮し、適したインターフェースで配色生成システムを利用できることも重要である。
以下では、上記の内容について論じる。

\section{色の視認性}
斎藤ら\cite{saito}は、健常若年者、模擬高齢者および模擬色覚障碍者の文字の視認性において、背景色と文字色の明度差と色差の関係性を示すための実験を行った。　
実験結果からは無彩色背景においては背景色に関係なく、明度差(Ｌ)を基準に考えると条件式(\ref{relation1}) ～ (\ref{relation3})、色差(E)を基準に考えると条件式(\ref{relation4}) ～ (\ref{relation5})を満たすような範囲において視認性が高いと示された。

\begin{align}
    \label{relation1}
    L &< 152.7 &&\text{のとき} & E &\leq 65.8L - 9593 \\
    \label{relation2}
    152.7 &\leq L < 153.0 &&\text{のとき} & E &\leq 16.0L - 1989 \\
    \label{relation3}
    L &\geq 153.0 &&\text{のとき} & E &\leq 8.77L - 883.1 \\
    \label{relation4}
    454.1 &\leq E < 458.4 &&\text{のとき} & L &\geq 0.0625E + 124.3 \\
    \label{relation5}
    E &\geq 458.4 &&\text{のとき} & L &\geq 0.1140E + 100.7
    \end{align}

また、ウェブサイトやウェブコンテンツができるだけ多くの人に公平に利用されるために設けられた国際的なガイドラインである、 Web content accessibility guidelines\cite{colorguide}では、色相だけでなく明度も大きく異なる色を用いてコンテンツを伝える場合、色間の相対輝度の差が 3:1 のコントラスト比であることが基準であると示されている。
    

\section{テキスト配色の自動生成}
藤本ら\cite{webcolor}は、webページの配色生成の自動化のためのシステムを作成した。
システムはWeb content accessibility guidelines\cite{colorguide} においてwebページの背景色と前景色とのコントラスト比に推奨される制約を持たせ、生成するものがそれを充足するように、マルチエージェント強化学習を用いた手法を提案した。
また、配色の最適化のために、 生成された配色に対し、ユーザが評価を行い、それらを新たにフィードバックとして与える方法を用いている。

吉越\cite{sotu24}\todo{情報処理学会論文誌にそのうち掲載されるので、掲載後はそれで置き換える}は、テキストエディタにおけるユーザの好みを反映した視認性の高い配色を推薦する手法を提案した。
この研究では、ユーザが好みの一色を一つの文字色として指定し、その色に対し、焼きなまし法を用い、視認性が高くなるような背景色やほかの文字色を自動生成し、visual studio codeの配色設定ファイルとして出力する手法を提案した。また、ユーザが望む場合、生成した配色を微調整することも可能である。
さらにこの手法の有用性を検証するため、手動で配色を作成した場合と提案した手法を用いたツールで配色を生成した場合における作成時間、配色の好み、配色の見やすさを比較する実験を行った。実験結果からはツールを用いた場合には、作成時間と配色の好みにおいて、有意があると確認できた。
しかしながら、視認性が非常に悪い配色が生成される場合があることと、CUIのみを用いたツールのため、インターフェースの改良を行うことが課題であると述べている。

\section{GUIとCUI}
Gaff\cite{guivscui}は様々な性格タイプの被験者を集め、著者名やタイトルの検索課題をCUIとGUIでそれぞれ行ってもらい、作業におけるやりやすさやストレスの程度を評価する実験を行った。
実験結果はすべての被験者がGUIを使いやすかったと回答した一方で、6割の被験者がCUIの利用にストレスを感じたと回答したことでGUIの有意性を示した。

また、Feiziら\cite{guivscli}は、GUIとCLIどちらかのみを用いたタスクや二つを併用したタスクを用意し、17人のインターフェースデザイナーと15人のソフト開発者の被験者にそれらを実行させる実験を行った。
実験では複数の項目からなるユーザアンケートによる評価とタスクの成功率や平均のタスク時間を計測し、比較を行った。
実験結果はGUIを用いたタスクの成功率は100％だったのに対し、CLIを用いたタスクの成功率は91.93％であった。
また,タスクの平均時間もGUIを用いたタスクの方が短く、タスク終了後のユーザアンケートでは、「画面デザイン」や「ソフトの機能性」といった項目の評価平均点が高かったのに対し、「スクリプト入力のわかりやすさ」といったCLIに関する項目の評価平均点が低かった。
このことからCLIよりもGUIのほうが優れているということが示された。

\section{ユーザーインターフェースの評価方法}
ユーザーインターフェースの使いやすさを評価するための方法としてユーザビリティインスペクションがある\cite{nielsen1994usability}。
その主な手法には、ユーザビリティ専門家がいくつかからなるユーザビリティ原則に従っているかどうかを判断するヒューリスティック評価や、
ユーザーの問題解決プロセスをシミュレートし、各ステップでのユーザーの目標と記憶内容が次の正しいアクションにつながるかどうかを確認する認知ウォークスルーなどがある。

さらにほかの評価方法として、システムのユーザーがシステムの仕様に関する10項目の質問に対して、回答し、その合計のスコアで評価するsystem usability scaleがある\cite{lewis2018system}。

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{提案手法}
本研究ではJIS規格に基づいた、CIE 1976 L*a*b*色空間\cite{ISO.11664-4:2019}およびRGB色空間を用いる。
またこのRGB色空間というのはsRGB空間\cite{ISO.11664-6:2022}を示すものとする。
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{実験}

\section{実験手順}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{結論と今後の課題}

\chapter*{謝辞}
\addcontentsline{toc}{chapter}{謝辞}

\pagebreak
\addcontentsline{toc}{chapter}{参考文献}
\bibliographystyle{junsrt}
\bibliography{ref.bib}


\end{document}
